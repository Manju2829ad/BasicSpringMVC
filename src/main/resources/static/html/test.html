<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    
<form action="#" method="post" enctype="application/x-www-form-urlencoded" target="_blank" onsubmit="return false">

    <div class="data">
        <input type="tel" maxlength="10" id="phonenumber" minlength="10" placeholder="mobile-number"/> <br> <br>
        <input type="email" id="email" placeholder="email" oninput="validateEmail()"/> <br> <br>
            <span id="error"></span>
            <button type="submit" value="login">Login</button>
        </div>

        
        <div class="section" id="tv">
            <h2>TV</h2>
            <div class="products">
                <a href="product.html?category=tv" class="product">
                    <img src="images/tv1.jpg" alt="TV Product 1" class="product-image">
                    <p>Samsung</p>
                    <p class="price">From ₹24,999*</p>
                </a>
                <a href="product.html?category=tv" class="product">
                    <img src="images/tv2.jpg" alt="TV Product 2" class="product-image">
                    <p>LG</p>
                    <p class="price">From ₹22,999*</p>
                </a>
                <a href="product.html?category=tv" class="product">
                    <img src="images/tv3.jpg" alt="TV Product 3" class="product-image">
                    <p>Sony</p>
                    <p class="price">From ₹34,999*</p>
                </a>
                <a href="product.html?category=tv" class="product">
                    <img src="images/tv4.jpg" alt="TV Product 4" class="product-image">
                    <p>Toshiba</p>
                    <p class="price">From ₹19,999*</p>
                </a>
                <a href="product.html?category=tv" class="product">
                    <img src="images/tv5.jpg" alt="TV Product 5" class="product-image">
                    <p>Panasonic</p>
                    <p class="price">From ₹18,999*</p>
                </a>
            </div>
        </div>
    </form>
    <script>
        // Regular expression for validating an email address
        let regxEmail = /^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/;
        let email = document.getElementById('email');
                  
        const UNSPLASH_ACCESS_KEY = 'u55i2jtbmfuX9Wei25It1ZZVCUBW-wPyxp1LB966i_g';
        async function fetchImages(query, sectionId) {
        try {
            const response = await fetch(`https://api.unsplash.com/search/photos?query=${query}&client_id=${UNSPLASH_ACCESS_KEY}`);
            const data = await response.json();
            const images = data.results;
            const products = document.querySelectorAll(`#${sectionId} .product`);
            products.forEach((product, index) => {
                console.log(` ${index}: ${product}`);
            });
        } catch (error) {
            console.error('Error fetching images:', error);
        }
    }

    function validateEmail() {
        let error = document.getElementById('error');
        let result = regxEmail.test(email.value);

        if (!result) {
            error.innerText = 'Please enter a valid email';
        } else {
            error.innerText = '';
        }
    }

    document.addEventListener('DOMContentLoaded', () => {
        fetchImages('samsung tv', 'tv');
        fetchImages('lg tv', 'tv');
        fetchImages('sony tv', 'tv');
        fetchImages('toshiba tv', 'tv');
        fetchImages('panasonic tv', 'tv');
    });
    
    </script>
</body>
</html>